# æœºå™¨å­¦ä¹ è¯„ä¼°æŒ‡æ ‡

[toc]

## ä¸€ã€åˆ†ç±»ç®—æ³•

**æ··æ·†çŸ©é˜µ**

> æ··æ·†çŸ©é˜µæ˜¯ç›‘ç£å­¦ä¹ ä¸­çš„ä¸€ç§å¯è§†åŒ–å·¥å…·ï¼Œä¸»è¦ç”¨äºŽæ¯”è¾ƒåˆ†ç±»ç»“æžœå’Œå®žä¾‹çš„çœŸå®žä¿¡æ¯ã€‚çŸ©é˜µä¸­çš„æ¯ä¸€è¡Œä»£è¡¨å®žä¾‹çš„ **é¢„æµ‹ç±»åˆ«** ,æ¯ä¸€åˆ—ä»£è¡¨å®žä¾‹çš„ **çœŸå®žç±»åˆ«** ã€‚

![1678104312042](image/æœºå™¨å­¦ä¹ æ¨¡åž‹è¯„ä¼°æŒ‡æ ‡/1678104312042.png)

æ··æ·†çŸ©é˜µçš„æŒ‡æ ‡

> 1ã€TPï¼šå°†æ­£ç±»é¢„æµ‹ä¸ºæ­£ç±»æ•°
>
> 2ã€FNï¼šå°†æ­£ç±»é¢„æµ‹ä¸ºè´Ÿç±»æ•°
>
> 3ã€FPï¼šå°†è´Ÿç±»é¢„æµ‹ä¸ºæ­£ç±»æ•°
>
> 4ã€TNï¼šå°†è´Ÿç±»é¢„æµ‹ä¸ºè´Ÿç±»æ•°

### 1ã€ç²¾ç¡®çŽ‡

åˆ†ç±»æ­£ç¡®çš„æ­£æ ·æœ¬ä¸ªæ•°å åˆ†ç±»å™¨åˆ¤å®šä¸ºæ­£æ ·æœ¬çš„æ ·æœ¬ä¸ªæ•°çš„æ¯”ä¾‹ï¼ˆé¢„æµ‹åˆ†ç±»ä¸º1ï¼Œç›¸åº”çš„é¢„æµ‹å¯¹çš„æ¦‚çŽ‡ï¼‰---**é”™æŠ¥**

### 2ã€å¬å›žçŽ‡

åˆ†ç±»æ­£ç¡®çš„æ­£æ ·æœ¬ä¸ªæ•°å çœŸæ­£çš„æ­£æ ·æœ¬ä¸ªæ•°çš„æ¯”ä¾‹ï¼ˆçœŸå®žåˆ†ç±»ä¸º1ï¼Œç›¸åº”çš„é¢„æµ‹å¯¹çš„æ¦‚çŽ‡ï¼‰---**æ¼æŠ¥**

> æ¯”å¦‚è¯´ï¼šæˆ‘ä»¬è¦ä»Žä¸€ä¸ª**ç›’å­**é‡Œé¢æŒ‘é€‰å‡º10ä¸ªçƒï¼Œå…¶ä¸­ç›’å­çƒçš„æž„æˆä¸ºçº¢çƒï¼š95ï¼Œç™½çƒï¼š5ã€‚é‚£ä¹ˆæŠ½åˆ°ç™½çƒçš„å‡†ç¡®çŽ‡ï¼Œå¬å›žçŽ‡ï¼Ÿ
>
> ç¬¬ä¸€æ¬¡ï¼š10ä¸ªéƒ½æ˜¯çº¢è‰²----é‚£ä¹ˆå‡†ç¡®çŽ‡ï¼š0 å¬å›žçŽ‡ï¼š0
>
> ç¬¬äºŒæ¬¡ï¼š6ä¸ªçº¢è‰²ï¼Œ4ä¸ªç™½è‰²---é‚£ä¹ˆå‡†ç¡®çŽ‡ï¼š4/10 å¬å›žçŽ‡ï¼š4/5

**è®¡ç®—å…¬å¼**

$$
å‡†ç¡®çŽ‡=\frac{æ‰€æœ‰é¢„æµ‹æ­£ç¡®çš„æ ·æœ¬}{æ€»æ ·æœ¬}=\frac{TP+TN}{TP+FN+FP+TN}
$$

$$
å¬å›žçŽ‡=\frac{å°†æ­£ç±»é¢„æµ‹ä¸ºæ­£ç±»}{åŽŸæœ¬æ­£ç±»}=\frac{TP}{TP+FN}
$$

$$
ç²¾ç¡®çŽ‡=\frac{å°†æ­£ç±»é¢„æµ‹ä¸ºæ­£ç±»}{é¢„æµ‹çš„æ­£ç±»}=\frac{TP}{TP+FP}
$$

å–èˆé—®é¢˜ï¼šåœ¨ä¸åŒçš„åœºåˆå¯¹äºŽ**ç²¾ç¡®çŽ‡å’Œå¬å›žçŽ‡**è¦æ±‚ä¸åŒã€‚

ä¾‹å¦‚ï¼šå¯¹äºŽè‚¡ç¥¨é¢„æµ‹ï¼Œæ›´å¤šçš„åº”è¯¥æ˜¯å…³æ³¨ç²¾å‡†çŽ‡ï¼Œå‡è®¾å…³æ³¨è‚¡ç¥¨ä¸Šå‡çš„æƒ…å†µï¼Œé«˜ç²¾å‡†çŽ‡æ„å‘³ç€TPå€¼é«˜ï¼ˆæ­£ç¡®åœ°é¢„æµ‹åˆ°è‚¡ç¥¨ä¼šå‡ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å¸®åŠ©äººä»¬è°ƒæ•´æŠ•èµ„ï¼Œå¢žåŠ æ”¶å…¥ï¼Œå¦‚æžœè¿™ä¸€æŒ‡æ ‡ä½Žï¼Œå°±ä»¥ä¸ºFPå€¼é«˜ï¼ˆé”™è¯¯åœ°è®¤ä¸ºè‚¡ç¥¨ä¼šå‡ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´è‚¡ç¥¨å…¶å®žæ˜¯é™çš„ï¼Œè€Œé¢„æµ‹æˆå‡äº†ï¼Œè¿™å°†ä¼šä½¿ç”¨æˆ·äºé’±ã€‚è€Œå¬å›žçŽ‡ä½Žåªæ˜¯æ„å‘³ç€åœ¨è‚¡ç¥¨ä¸Šå‡çš„æƒ…å†µä¸­ï¼Œå¯¹å‡ ä¸ªè‚¡ç¥¨ä¸Šå‡çš„æƒ…å†µæ²¡æœ‰è¢«é¢„æµ‹åˆ°ï¼Œè¿™å¯¹äºŽæŠ•èµ„è€…æ¥è¯´ä¹Ÿæ˜¯å¯ä»¥æŽ¥å—çš„ï¼Œæ¯•ç«Ÿæ²¡æœ‰äºé’±ï¼Œå› æ­¤ä½Žå¬å›žçŽ‡å¯¹ç”¨æˆ·å½±å“ä¸æ˜¯å¾ˆå¤§ã€‚

ä¾‹å¦‚ï¼šå¯¹äºŽç–¾ç—…é¢„æµ‹é¢†åŸŸï¼Œæ›´å¤šçš„åº”è¯¥å…³æ³¨å¬å›žçŽ‡ï¼Œå› ä¸ºé«˜å¬å›žçŽ‡æ„å‘³ç€èƒ½å¤Ÿæ›´å¤šåœ°å°†å¾—ç—…çš„ç—…äººé¢„æµ‹å‡ºæ¥ï¼Œè¿™ä¸ªå¯¹äºŽæ‚£ç—…è€…éžå¸¸é‡è¦ã€‚è€Œç²¾å‡†çŽ‡ä½Žæ„å‘³ç€é”™è¯¯åœ°é¢„æµ‹ç—…äººæ‚£ç—…ï¼Œè€Œè¿™ä¸ªæ—¶å€™åªè¦è¢«é¢„æµ‹æ‚£ç—…çš„äººå†åŽ»æ£€æŸ¥ä¸€ä¸‹å³å¯ï¼Œå®žé™…ä¸Šæ˜¯å¯ä»¥æŽ¥å—çš„ï¼Œå› æ­¤ä½Žç²¾å‡†çŽ‡å¯¹ç”¨æˆ·å½±å“ä¸å¤§ã€‚

### 3ã€F1-score

æ˜¯ä¸€ç§é‡æµ‹ç®—æ³•çš„ç²¾ç¡®åº¦å¸¸ç”¨çš„æŒ‡æ ‡ ï¼Œç»å¸¸ç”¨æ¥åˆ¤æ–­ç®—æ³•çš„ç²¾ç¡®åº¦ã€‚ç›®å‰åœ¨è¾¨è¯†ã€ä¾¦æµ‹ç›¸å…³çš„ç®—æ³•ä¸­ç»å¸¸ä¼šåˆ†åˆ«æåˆ° ç²¾ç¡®çŽ‡ ï¼ˆprecisionï¼‰å’Œ å¬å›žçŽ‡ ï¼ˆrecallï¼‰ï¼ŒF-scoreèƒ½åŒæ—¶è€ƒè™‘è¿™ä¸¤ä¸ªæ•°å€¼ï¼Œå¹³è¡¡åœ°åæ˜ è¿™ä¸ªç®—æ³•çš„ç²¾ç¡®åº¦ã€‚

> ç»´åŸºç™¾ç§‘ï¼šhttps://zh.wikipedia.org/wiki/F-score

**è®¡ç®—å…¬å¼ï¼š**

$$
F_1=\frac{2TP}{2TP+FN+FP}
$$

è®¾æƒ³ä¸€ä¸‹ä¸€ä¸ªæ¯”è¾ƒæžç«¯çš„æƒ…å†µï¼Œå¦‚æ­£æ ·æœ¬90ä¸ªï¼Œè´Ÿæ ·æœ¬10ä¸ªï¼Œæˆ‘ä»¬ç›´æŽ¥å°†æ‰€æœ‰æ ·æœ¬åˆ†ç±»ä¸ºæ­£æ ·æœ¬ï¼Œå¾—åˆ°å‡†ç¡®çŽ‡ä¸º90%ã€‚å•ä»Žæ•°å€¼ä¸Šè€Œè¨€ç»“æžœæ˜¯å¯ä»¥æŽ¥å—çš„ï¼Œä½†æ˜¯è¿™æ ·å°±è¿èƒŒäº†æˆ‘ä»¬è¿›è¡Œåˆ†ç±»çš„åˆè¡·ï¼Œåº”è¯¥èµ›é€‰å‡ºæ­£æ ·æœ¬çš„åŒæ—¶ï¼Œå°½å¯èƒ½å°‘çš„è®©è´Ÿæ ·æœ¬è¿›å…¥ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¼•å…¥TPRã€FPRã€TNRå¯¹å…¶è¿›è¡Œé™åˆ¶

### 4ã€ROCæ›²çº¿å’ŒAUCå€¼

#### 4.1 TPRã€FPRã€TNR

**çœŸæ­£ç±»çŽ‡**ï¼Œåˆ»ç”»çš„æ˜¯è¢«åˆ†ç±»å™¨æ­£ç¡®åˆ†ç±»çš„æ­£å®žä¾‹å æ‰€æœ‰æ­£å®žä¾‹çš„æ¯”ä¾‹ã€‚**å³ï¼šæ­£ç¡®åˆ¤æ–­ä¸ºæ­£çš„å å…¨éƒ¨æ­£çš„æ¯”ä¾‹**

$$
TPR=\frac{TP}{TP+FN}
$$

**è´Ÿæ­£ç±»çŽ‡**ï¼Œè®¡ç®—çš„æ˜¯è¢«åˆ†ç±»å™¨é”™è®¤ä¸ºæ­£ç±»çš„è´Ÿå®žä¾‹å æ‰€æœ‰è´Ÿå®žä¾‹çš„æ¯”ä¾‹ã€‚**å³ï¼šå°†è´Ÿé”™è¯¯åˆ¤æ–­ä¸ºæ­£çš„å å…¨éƒ¨è´Ÿçš„æ¯”ä¾‹**

$$
FPR=\frac{FP}{FP+TN}
$$

**çœŸè´Ÿç±»çŽ‡**ï¼Œåˆ»ç”»çš„æ˜¯è¢«åˆ†ç±»å™¨æ­£ç¡®åˆ†ç±»çš„è´Ÿå®žä¾‹å æ‰€æœ‰è´Ÿå®žä¾‹çš„æ¯”ä¾‹ã€‚**å³ï¼šæ­£ç¡®åˆ†ç±»ä¸ºè´Ÿå å…¨éƒ¨è´Ÿçš„æ¯”ä¾‹**

$$
TNR=1-FPR=\frac{TN}{FP+TN}
$$

é‚£ä¹ˆé€šè¿‡åˆ†æžå®¹æ˜“çŸ¥é“ï¼Œæˆ‘ä»¬å¸Œæœ›TPRçš„å€¼è¶Šå¤§è¶Šå¥½ï¼Œç›¸åFPRçš„å€¼è¶Šå°è¶Šå¥½ã€‚çŸ¥é“3ä¸ªæŒ‡æ ‡ä¹‹åŽæˆ‘ä»¬å¼€å§‹äº†è§£ä»€ä¹ˆæ˜¯ROCæ›²çº¿ï¼Œè®¾æƒ³åœ¨ä¸€ä¸ªåˆ†ç±»é—®é¢˜ï¼ˆæ¯”å¦‚æ‰‹å†™å­—ä½“è¯†åˆ«ï¼‰ä¸­æˆ‘ä»¬å¯èƒ½å¾ˆéš¾100%çš„åˆ¤æ–­å°±ä¸€å®šå±žäºŽæŸä¸ªæ•°å€¼ï¼Œä½†æ˜¯è¦æ˜¯ç»™å®šå±žäºŽæŸä¸ªæ•°å­—çš„æ¦‚çŽ‡ï¼Œæ¯”å¦‚è¯´å±žäºŽ1çš„æ¦‚çŽ‡ä¸º95%ï¼Œ2çš„æ¦‚çŽ‡ä¸º90%......é‚£ä¹ˆæˆ‘ä»¬å¾ˆå¯èƒ½åšå‡ºåˆ¤æ–­è¿™ä¸ªæ‰‹å†™å­—å°±æ˜¯1ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä»–çš„æ¦‚çŽ‡å¤§ï¼Ÿä½†æ˜¯æ•°å­—2çš„æ¦‚çŽ‡ä¹Ÿæœ‰90%ä¸ºä»€ä¹ˆä¸é€‰æ‹©æ•°å­—2å‘¢ï¼Ÿåœ¨å®žé™…ç”Ÿæ´»ä¸­è¿™ç§æƒ…å†µç»å¸¸æœ‰ï¼Œæˆ‘ä»¬å¾ˆéš¾100%åˆ¤æ–­æŸä¸ªæ•°å­—ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è§„å®šï¼Œæ¯”å¦‚è¯´ï¼šæ¦‚çŽ‡å¤§äºŽ90%é‚£ä¹ˆå°±è®¤ä¸ºæ˜¯1ï¼Œåä¹‹è®°ä½œ0è¿™æ ·çš„è¯ä¸Šé¢çš„ä¾‹å­å°±è§£é‡Šå¾—é€šäº†ã€‚è¿™ä¸ª90%å¸¸å¸¸è®°ä½œ**é˜ˆå€¼**ï¼Œé‚£ä¹ˆä¸åŒé˜ˆå€¼å’Œæˆ‘ä»¬ROCæ›²çº¿åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿä¸å¦¨é€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­è¿›è¡Œäº†è§£ï¼š

> åˆ†ç±»é—®é¢˜ï¼šåˆ¤æ–­æ˜¯ä¸æ˜¯ðŸš²ï¼Ÿ
>
> | åºå· | ç±»åˆ« | æ¦‚çŽ‡ |
> | :--: | ---- | ---- |
> |  1  | ðŸš³   | 0.3  |
> |  2  | ðŸš²   | 0.3  |
> |  3  | ðŸš²   | 0.6  |
> |  4  | ðŸš²   | 0.8  |
> |  5  | ðŸš²   | 0.9  |
> |  6  | ðŸš³   | 0.1  |
> |  7  | ðŸš³   | 0.2  |
> |  8  | ðŸš³   | 0.3  |
>
> é‚£ä¹ˆå¯ä»¥å‡è®¾ä¸åŒ**é˜ˆå€¼**ï¼Œè¿›è€Œè®¡ç®—ä¸åŒTPRå’ŒFPRçš„å€¼ã€‚æ¯”å¦‚è¯´:
>
> é˜ˆå€¼å–[0,0.1]çš„æ—¶å€™ï¼Œå‘çŽ°æ¦‚çŽ‡éƒ½å¤§äºŽ0.1é‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºå…¨éƒ¨éƒ½æ˜¯ðŸš²ï¼Œæ‰€ä»¥å°±æœ‰
>
> ![1678109145019](image/æœºå™¨å­¦ä¹ æ¨¡åž‹è¯„ä¼°æŒ‡æ ‡/1678109145019.png#pic_center)
>
> $$
> TPR=\frac{TP}{TP+FN}=\frac{4}{4+0}
> $$
>
> $$
> FPR=\frac{FP}{FP+TN}=\frac{4}{4+0}
> $$
>
> è¿™æ ·çš„è¯æˆ‘ä»¬å°±å¯ä»¥åœ¨ROCæ›²çº¿ä¸Šæ ‡è®°ä¸€ä¸ªç‚¹ï¼Œé€šè¿‡ä¸æ–­çš„ç§»åŠ¨é˜ˆå€¼æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªROCæ›²çº¿
> å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š
> ![1678109588247](image/æœºå™¨å­¦ä¹ æ¨¡åž‹è¯„ä¼°æŒ‡æ ‡/1678109588247.png)

è¿™æ ·çš„è¯æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€æ¡ROCæ›²çº¿ï¼Œä½†æ˜¯é—®é¢˜æœ‰æ¥äº†è¦æ˜¯æˆ‘ä»¬å¾—åˆ°å¦å¤–ä¸€æ¡ROCæ›²çº¿ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çŽ°åœ¨æœ‰ä¸¤æ¡ROCæ›²çº¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€Žä¹ˆåˆ¤æ–­å‘¢ï¼Ÿè¿™å°±æ˜¯æŽ¥ä¸‹æ¥è¦è¯´çš„AUCå€¼ï¼Œé—®é¢˜åˆæ¥äº†æ€Žä¹ˆçŸ¥é“AUCçš„å€¼å‘¢ï¼Ÿ----->è®¡ç®—é¢ç§¯é˜¿ä¼Ÿã€‚æ²¡é”™å°±æ˜¯è®¡ç®—é¢ç§¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—ä¸åŒROCæ›²çº¿ä¸ŽFPRçš„é¢ç§¯è¿›è€Œå¾—åˆ°ä¸åŒAUCçš„å€¼ï¼Œä»Žè€Œåˆ¤æ–­å“ªæ¡ROCæ›²çº¿æ›´åŠ çš„å¥½ï¼


**å‚è€ƒ**

> https://blog.csdn.net/manduner/article/details/91040867
>
> https://www.jianshu.com/p/2ca96fce7e81
